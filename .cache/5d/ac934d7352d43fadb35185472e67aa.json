{"id":"Hl54","dependencies":[{"name":"C:\\Users\\beatr\\OA\\integritywatch-uk\\package.json","includedInParent":true,"mtime":1733756686098},{"name":"jquery","loc":{"line":4,"column":23,"index":103},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\jquery\\dist\\jquery.js"},{"name":"jquery-ui-bundle","loc":{"line":7,"column":8,"index":161},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\jquery-ui-bundle\\jquery-ui.js"},{"name":"jquery-ui-bundle/jquery-ui.css","loc":{"line":8,"column":8,"index":191},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\jquery-ui-bundle\\jquery-ui.css"},{"name":"datatables.net","loc":{"line":9,"column":8,"index":235},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\datatables.net\\js\\jquery.dataTables.js"},{"name":"datatables.net-dt","loc":{"line":10,"column":8,"index":274},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\datatables.net-dt\\js\\dataTables.dataTables.js"},{"name":"underscore","loc":{"line":13,"column":23,"index":348},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\underscore\\underscore.js"},{"name":"../public/vendor/js/popper.min.js","loc":{"line":17,"column":7,"index":444},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\public\\vendor\\js\\popper.min.js"},{"name":"../public/vendor/js/bootstrap.min.js","loc":{"line":18,"column":7,"index":489},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\public\\vendor\\js\\bootstrap.min.js"},{"name":"d3-request","loc":{"line":21,"column":26,"index":583},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\d3-request\\index.js"},{"name":"../public/vendor/css/bootstrap.min.css","loc":{"line":24,"column":7,"index":623},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\public\\vendor\\css\\bootstrap.min.css"},{"name":"../public/vendor/css/dc.css","loc":{"line":25,"column":7,"index":673},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\public\\vendor\\css\\dc.css"},{"name":"/scss/main.scss","loc":{"line":26,"column":7,"index":712},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\scss\\main.scss"},{"name":"vue","loc":{"line":29,"column":16,"index":772},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\node_modules\\vue\\dist\\vue.esm.js"},{"name":"./components/Loader.vue","loc":{"line":30,"column":19,"index":799},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\components\\Loader.vue"},{"name":"./components/ChartHeader.vue","loc":{"line":31,"column":24,"index":851},"parent":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\beatr\\OA\\integritywatch-uk\\src\\components\\ChartHeader.vue"}],"generated":{"js":"\"use strict\";var e=a(require(\"underscore\"));require(\"../public/vendor/js/popper.min.js\"),require(\"../public/vendor/js/bootstrap.min.js\");var t=require(\"d3-request\");require(\"../public/vendor/css/bootstrap.min.css\"),require(\"../public/vendor/css/dc.css\"),require(\"/scss/main.scss\");var n=a(require(\"vue\")),r=a(require(\"./components/Loader.vue\")),o=a(require(\"./components/ChartHeader.vue\"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return u(e)||d(e,t)||s(e,t)||l()}function l(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function s(e,t){if(e){if(\"string\"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var r,o,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}function u(e){if(Array.isArray(e))return e}var h=require(\"jquery\");window.$=window.jQuery=h,require(\"jquery-ui-bundle\"),require(\"jquery-ui-bundle/jquery-ui.css\"),require(\"datatables.net\")(window,$),require(\"datatables.net-dt\")(window,$),window.underscore=window._=e.default;var f={page:\"tabA\",loader:!0,readMore:!1,showInfo:!0,showShare:!0,showAllCharts:!0,chartMargin:40,travelFilter:\"all\",charts:{level:{title:\"Role\",info:\"This pie chart shows the proportion of meetings hosted by political role. Click on the pie chart to filter the rest of the tool by role.\"},department:{title:\"Top 10 Public offices\",info:\"This bar chart shows the hosts which public offices have had the most contact with lobby organisations. Click on the bar chart to filter the rest of the tool by public office. Note: Due to issues with the source data, when UK Government hosts meet several lobby organisations in a single meeting, the tool counts it as one single meeting. The number of contacts with individual lobbyists can therefore be higher than the number of meetings diplayed on this portal.\"},hosts:{title:\"TOP 10 HOSTS\",info:\"This bar chart shows the hosts who have had the most contact with lobby organisations. Click on the bar chart to filter the rest of the tool by host.\\n\\n Note: Due to issues with the source data, when UK Government hosts meet several lobby organisations in a single meeting, the tool counts it as one single meeting. The number of contacts with individual lobbyists can therefore be higher than the number of meetings diplayed on this portal.\"},organizations:{title:\"Top 10 Lobbyists\",info:\"This bar chart shows lobby organisations who have had the most contact with hosts in the UK Government, Scottish Government, and Scottish Parliament. Click on the bar chart to filter the rest of the tool by lobby organisation.\\n\\n Note: Due to issues with the source data, this is only a rough figure for exploring the data. When UK Government hosts meet several lobby organisations in a single meeting, the tool counts it as one single meeting. The number of contacts between lobbyists and hosts can therefore be higher than the number of meetings diplayed on this portal. Conversely, when lobbyists meet multiple hosts in the Scottish Government or Parliament at the same time, we have split them out into individual rows.\"},mainTable:{chart:null,type:\"table\",title:\"Results\",info:\"This table presents a list of meetings based on the filters you apply. Use the filters above to refine this view.For meetings with multiple hosts, each host is listed separately in the Scotland registry with all other meeting details remaining unchanged. You can see other hosts (if there are any) of the same meeting by clicking on the row\"}},selectedElement:{P:\"\",Sub:\"\"},modalShowTable:\"\",colors:{generic:[\"#981b48\",\"#b7255a\",\"#d73771\",\"#ec5189\",\"#ec7ca6\"],default:\"#d73771\",default1:\"#3694d1\",colorSchemeCloud:[\"#981b48\",\"#b7255a\",\"#d73771\",\"#ec5189\",\"#ec7ca6\",\"#f9b41b\",\"#e77a31\",\"#ffc138\"]}};n.default.component(\"chart-header\",o.default),n.default.component(\"loader\",r.default),new n.default({el:\"#app\",data:f,methods:{downloadDataset:function(){window.open(\"./data/iw_uk.csv\")},share:function(e){if(\"twitter\"!=e)if(\"facebook\"!=e);else{n=\"https://www.facebook.com/sharer/sharer.php?u=\"+encodeURIComponent(\"https://openaccess.transparency.org.uk/\");window.open(n,\"_blank\",\"toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250,top=300,left=300\")}else{var t=window.location.href.split(\"?\")[0],n=\"https://twitter.com/intent/tweet?text=\"+encodeURIComponent(\"Whoâ€™s lobbying ministers and legislators across the UK, when and why? \"+t);window.open(n,\"_blank\")}},copyToClipboard:function(e){var t=document.getElementById(e);t.select(),t.setSelectionRange(0,99999),document.execCommand(\"copy\"),console.log(\"Copied: \"+t.value)}}}),$(function(){$('[data-toggle=\"popover\"]').popover()});var m={level:{chart:dc.pieChart(\"#level_chart\"),type:\"pie\",divId:\"level_chart\"},department:{chart:dc.rowChart(\"#department_chart\"),type:\"row\",divId:\"department_chart\"},hosts:{chart:dc.rowChart(\"#hosts_chart\"),type:\"row\",divId:\"hosts_chart\"},organizations:{chart:dc.rowChart(\"#organizations_chart\"),type:\"row\",divId:\"organizations_chart\"},mainTable:{chart:null,type:\"table\",divId:\"dc-data-table\"}},p=function(e){return document.getElementById(e).offsetWidth-f.chartMargin},g=function(e){return parseInt(e/8)},b=function(e){var t=p(e),n={width:t,height:0,radius:0,innerRadius:0,cy:0,legendY:0};return t<270?(n.height=t+170,n.radius=t/2,n.innerRadius=t/4,n.cy=t/2,n.legendY=t+30):(n.height=.75*t+170,n.radius=.75*t/2,n.innerRadius=.75*t/4,n.cy=.75*t/2,n.legendY=.75*t+30),n},v=function(){for(var e in m)if(\"subject\"!=e||0!=f.showAllCharts){var t=b(m[e].divId),n=p(m[e].divId),r=g(n);\"row\"==m[e].type?(m[e].chart.width(n),m[e].chart.label(function(e){var t=e.key;return t.indexOf(\"###\")>-1&&(t=t.split(\"###\")[0]),t.length>r?t.substring(0,r)+\"...\":t}),m[e].chart.redraw()):\"bar\"==m[e].type?(m[e].chart.width(n),m[e].chart.rescale(),m[e].chart.redraw()):\"pie\"==m[e].type&&(m[e].chart.width(t.width).height(t.height).cy(t.cy).innerRadius(t.innerRadius).radius(t.radius).legend(dc.legend().x(0).y(t.legendY).gap(10).legendText(function(e){var t=e.name;return t.length>r?t.substring(0,r)+\"...\":t})),m[e].chart.redraw())}};function w(e){return parseInt(e)?e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"):e}var y=d3.timeParse(\"%d/%m/%Y\");function k(e,t){t||(t=window.location.href),e=e.replace(/[\\[\\]]/g,\"\\\\$&\");var n=new RegExp(\"[?&]\"+e+\"(=([^&#]*)|&|#|$)\").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\\+/g,\" \")):\"\":null}jQuery.extend(jQuery.fn.dataTableExt.oSort,{\"date-eu-pre\":function(e){return e.indexOf(\"Cancelled\")>-1&&(e=e.split(\" \")[0]),y(e)},\"date-eu-asc\":function(e,t){return e<t?-1:e>t?1:0},\"date-eu-desc\":function(e,t){return e<t?1:e>t?-1:0}});for(var C=\"\",T=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",A=0;A<5;A++)C+=T.charAt(Math.floor(Math.random()*T.length));var D={};function S(){var e=document.getElementById(\"download-dropdown\");window.innerWidth<=992?e.classList.add(\"dropup\"):e.classList.remove(\"dropup\")}fetch(\"./data/iw_uk.json?\"+C).then(function(e){if(!e.ok)throw new Error(\"Network response was not ok\");return e.json()}).then(function(e){(0,t.csv)(\"./data/wdtk_departments.csv?\"+C,function(t,r){var o=performance.now(),a=d3.timeParse(\"%d/%m/%Y\");Date.now();_.each(e,function(e){switch(e.purpose=e.purpose||\"\",e.date1=e.date,e.date=e.date?a(e.date):null,e.portfolio=\"\",e.ministerialLevel=\"Others\",e.policy_level){case 1:e.ministerialLevel=\"Minister\";break;case 2:e.ministerialLevel=\"MSP\";break;case 3:e.ministerialLevel=\"Special advisor\";break;case 4:e.ministerialLevel=\"Senior civil servant\"}var t=_.find(r,function(t){return t.dep==e.department});e.department_wdtk=t?t.wdtk_name:\"\";var n=e.organisation;if(n.length>400){var o=(n=n.slice(0,400)).lastIndexOf(\" \");n=n.substring(0,o)+\" ...\"}var i=encodeURI(\"FOI request: Meeting held on \"+e.date1+\" with \"+e.rep_new+\".\"),l=\"Could you please acknowledge my request is being considered.\\r\\nFor the meeting held on \"+e.date1+\" between \"+e.rep_new+\" and \"+n+\", with purpose \"+e.purpose+\"\\r\\ncould you please provide the following information:\\r\\n\\r\\nâ€¢ A full list of attendees, including full names and titles as well as who the attendee represents\\r\\nâ€¢ A copy of the meeting agenda\\r\\nâ€¢ Meeting notes/minutes taken during the meeting, as well as any briefing notes and papers\\r\\nâ€¢ Any correspondence associated with the attendees, including debriefs of the meeting via email or other forms of communication.\\r\\n\";l=encodeURI(l),e.requestFullUrl=\"https://www.whatdotheyknow.com/new/\"+e.department_wdtk+\"?title=\"+i+\"&default_letter=\"+l,e.meetingUrl=window.location.href.split(\"?\")[0]+\"?meeting=\"+e.RecordId});var l=crossfilter(e),s=performance.now()-o;console.log(\"data load: \"+s+\" milliseconds\");o=performance.now();var c=l.dimension(function(e){return(e.rep_new+\" \"+e.organisation+\" \"+e.purpose+\" \"+e.policy_level+\" \"+e.department+\" \"+e.ministerialLevel+\" \"+e.registrant_additional_information).toLowerCase()}),d=l.dimension(function(e){return e.date||\"\"});document.getElementById(\"exportButton\").addEventListener(\"click\",function(){var e=l.allFiltered(),t=[],n=Object.keys(e[0]);t.push(n.join(\",\")),e.forEach(function(e){var r=n.map(function(t){return JSON.stringify(e[t])});t.push(r.join(\",\"))});var r=t.join(\"\\n\"),o=new Blob([r],{type:\"text/csv;charset=utf-8;\"}),a=URL.createObjectURL(o),i=document.createElement(\"a\");i.setAttribute(\"href\",a),i.setAttribute(\"download\",\"filtered-data.csv\"),i.style.visibility=\"hidden\",document.body.appendChild(i),i.click(),document.body.removeChild(i)});var u=l.dimension(function(e){return e.portal_source}),h={\"Scottish lobbying register\":!1,\"UK Government\":!1},w=[];function y(e,t){var r=document.getElementById(e);r.style.backgroundColor=\"#D3D3D3\",r.addEventListener(\"click\",function(){h[t]=!h[t],n.default.set(f,\"loader\",!0),requestAnimationFrame(function(){C()})})}function C(){var e=Object.keys(h).filter(function(e){return h[e]});0===e.length?u.filterAll():u.filter(function(t){return e.includes(t)}),0===w.length?T.filterAll():T.filter(function(e){var t=e.split(\", \");return w.some(function(e){return t.includes(e)})}),dc.redrawAll(),setTimeout(function(){Object.entries(h).forEach(function(e){var t=i(e,2),n=t[0],r=t[1],o=\"Scottish lobbying register\"===n?\"filter-source-button-scot\":\"filter-source-button-uk\",a=document.getElementById(o);a.style.backgroundColor=r?\"#3694d1\":\"#D3D3D3\",a.style.boxShadow=r?\"0 2px 4px rgba(0, 0, 0, 0.5)\":\"none\",a.disabled=!1}),n.default.set(f,\"loader\",!1)},0)}var T=l.dimension(function(e){return e.tag});y(\"filter-source-button-scot\",\"Scottish lobbying register\"),y(\"filter-source-button-uk\",\"UK Government\");var A={Climate:\"leaf\",Health:\"heart-pulse\",Housing:\"house\",Defence:\"shield-halved\"},D=[\"Climate\",\"Health\",\"Housing\",\"Defence\"];D.forEach(function(e){var t=document.createElement(\"button\"),n=A[e];t.innerHTML='<i class=\"fa fa-'.concat(n,' icon-white\"></i><strong class=\"dis-label\">').concat(e,\"</strong>\"),t.classList.add(\"filter-button\"),t.dataset.filter=e,t.title=e,t.addEventListener(\"click\",function(){var e=this;this.disabled=!0,requestAnimationFrame(function(){f.loader=!0,setTimeout(function(){!function(e){var t=w.indexOf(e);-1===t?w.push(e):w.splice(t,1),C()}(e.dataset.filter),e.classList.toggle(\"active\"),e.style.backgroundColor=e.classList.contains(\"active\")?\"#3694d1\":\"\",requestAnimationFrame(function(){e.disabled=!1,f.loader=!1})},0)})}),document.getElementById(\"filter-buttons\").appendChild(t)});var S;var I,x,L,q=$(\"#search-input\");function E(){var e=q.val().toLowerCase().match(/\"[^\"]+\"|\\S+/g)||[];c.filter(function(t){var n=t,r=!0;return e.forEach(function(e){var t=e.startsWith('\"')&&e.endsWith('\"'),o=t?e.slice(1,-1):e;t?-1===n.indexOf(o)&&(r=!1):o.split(\" \").forEach(function(e){-1===n.indexOf(e)&&(r=!1)})}),r}),window.clearTimeout(I),I=window.setTimeout(function(){dc.redrawAll()},250)}q.on(\"keyup\",function(){clearTimeout(S),S=setTimeout(E,1e3)}),q.on(\"keydown\",function(){clearTimeout(S)});var j=function(e){var t=new Date,n=t.getDate(),r=t.getMonth()+1;return n<10&&(n=\"0\"+n),r<10&&(r=\"0\"+r),n+e+r+e+t.getFullYear()},M=\"dd/mm/yy\",R=$(\"#from\").datepicker({defaultDate:\"01/01/2012\",changeMonth:!0,dateFormat:\"dd/mm/yy\"}).on(\"change\",function(){O.datepicker(\"option\",\"minDate\",U(this)),x=U(this)}),O=$(\"#to\").datepicker({defaultDate:j(\"/\"),changeMonth:!0,dateFormat:\"dd/mm/yy\"}).on(\"change\",function(){R.datepicker(\"option\",\"maxDate\",U(this)),L=U(this)});function U(e){var t;try{t=$.datepicker.parseDate(M,e.value)}catch(n){t=null}return t}$(\"#from\").val(\"01/01/2012\"),$(\"#to\").val(j(\"/\")),x=$(\"#from\").datepicker(\"getDate\"),L=$(\"#to\").datepicker(\"getDate\"),$(\"#datefilter\").click(function(){var e;d.filter(function(e){return\"\"==e||e.getTime()>=x.getTime()&&e.getTime()<=L.getTime()}),window.clearTimeout(e),e=window.setTimeout(function(){dc.redrawAll()},250)});$(\".reset-btn\").click(function(){var e=this;this.disabled=!0,requestAnimationFrame(function(){f.loader=!0,setTimeout(function(){var t;!function(){for(var e in m)\"table\"!==m[e].type&&m[e].chart.hasFilter()&&m[e].chart.filterAll();u.filterAll(),T.filterAll(),c.filterAll(),d.filterAll(),$(\"#search-input\").val(\"\"),h={\"Scottish lobbying register\":!1,\"UK Government\":!1},w=[];for(var t=document.getElementsByClassName(\"regbutton\"),n=0;n<t.length;n++)t[n].classList.remove(\"active\"),t[n].style.backgroundColor=\"#D3D3D3\",t[n].style.boxShadow=\"none\";D.forEach(function(e){var t=document.querySelector('[data-filter=\"'.concat(e,'\"]'));t&&(t.classList.remove(\"active\"),t.style.backgroundColor=\"\",t.style.boxShadow=\"\")}),C(),dc.redrawAll()}(),t=j(\"/\"),$(\"#from\").datepicker(\"setDate\",\"01/01/2012\"),$(\"#to\").datepicker(\"setDate\",t),x=$(\"#from\").datepicker(\"getDate\"),L=$(\"#to\").datepicker(\"getDate\"),requestAnimationFrame(function(){e.disabled=!1,f.loader=!1})},0)})});var F,N,z,B,P;o=performance.now();F=[\"Minister\",\"MSP\",\"Special advisor\",\"Senior civil servant\"],N=m.level.chart,z=l.dimension(function(e){return e.ministerialLevel}),B=z.group().reduceSum(function(e){return 1}),P=b(m.level.divId),N.width(P.width).height(P.height).cy(P.cy).innerRadius(P.innerRadius).radius(P.radius).legend(dc.legend().x(0).y(P.legendY).gap(10).legendText(function(e){var t=e.name;return t.length>40?t.substring(0,40)+\"...\":t})).title(function(e){return e.key+\": \"+e.value}).dimension(z).ordering(function(e){return F.indexOf(e.key)}).ordinalColors([\"#981b48\",\"#b7255a\",\"#d73771\",\"#ec5189\",\"#ccc\"]).group(B),N.render();s=performance.now()-o;console.log(\"Download time level: \"+s+\" milliseconds\");o=performance.now();!function(){var e,t=m.department.chart,n=l.dimension(function(e){return e.department}),r=n.group().reduceSum(function(e){return 1}),o=(e=r,{all:function(){return e.all().filter(function(e){return 0!=e.value}).sort(function(e,t){return t.value-e.value}).slice(0,10)}}),a=p(m.department.divId),i=g(a);t.width(a).height(420).margins({top:0,left:0,right:0,bottom:20}).group(o).dimension(n).colorCalculator(function(e,t){return f.colors.default}).label(function(e){return e.key&&e.key.length>i?e.key.substring(0,i)+\"...\":e.key}).title(function(e){return e.key+\": \"+e.value}).elasticX(!0).xAxis().ticks(4),t.render()}();s=performance.now()-o;console.log(\"department timze: \"+s+\" milliseconds\");o=performance.now();!function(){var e,t=m.hosts.chart,n=l.dimension(function(e){return e.rep_new}),r=n.group().reduceSum(function(e){return 1}),o=(e=r,{all:function(){return e.top(10).filter(function(e){return 0!=e.value})}}),a=p(m.hosts.divId),i=g(a);t.width(a).height(420).margins({top:0,left:0,right:0,bottom:20}).group(o).dimension(n).colorCalculator(function(e,t){return f.colors.default}).label(function(e){return e.key&&e.key.length>i?e.key.substring(0,i)+\"...\":e.key}).title(function(e){return e.key+\": \"+e.value}).elasticX(!0).xAxis().ticks(4),t.render()}();s=performance.now()-o;console.log(\"Download hosts: \"+s+\" milliseconds\");o=performance.now();!function(){var e,t=m.organizations.chart,n=l.dimension(function(e){return e.organisation}),r=n.group().reduceSum(function(e){return 1}),o=(e=r,{all:function(){return e.top(10).filter(function(e){return 0!=e.value})}}),a=p(m.organizations.divId),i=g(a);t.width(a).height(420).margins({top:0,left:0,right:0,bottom:20}).group(o).dimension(n).colorCalculator(function(e,t){return f.colors.default1}).label(function(e){return e.key&&e.key.length>i?e.key.substring(0,i)+\"...\":e.key}).title(function(e){return e.key+\": \"+e.value}).elasticX(!0).xAxis().ticks(4),t.render()}();s=performance.now()-o;console.log(\"Download orgs: \"+s+\" milliseconds\");o=performance.now();!function(){m.mainTable.chart=$(\"#dc-data-table\").dataTable({columnDefs:[{searchable:!1,orderable:!1,targets:0,data:function(e,t,n,r){return 0}},{searchable:!1,orderable:!0,targets:1,defaultContent:\"N/A\",data:function(e){return e.rep_new}},{searchable:!1,orderable:!0,targets:2,defaultContent:\"N/A\",data:function(e){switch(e.policy_level){case 1:return\"Minister\";case 2:return\"MSP\";case 3:return\"Special advisor\";case 4:return\"Senior civil servant\";default:return\"Not specified\"}}},{searchable:!1,orderable:!0,targets:3,defaultContent:\"N/A\",data:function(e){return e.department}},{searchable:!1,orderable:!0,targets:4,defaultContent:\"N/A\",data:function(e){return e.purpose?e.purpose.replace(/\\n/g,\"<br>\"):\"N/A\"}},{searchable:!1,orderable:!0,targets:5,defaultContent:\"N/A\",data:function(e){return e.organisation}},{searchable:!1,orderable:!0,targets:6,defaultContent:\"N/A\",type:\"date-eu\",data:function(e){return e.date?e.date.getDate()+\"/\"+(1+e.date.getMonth())+\"/\"+e.date.getFullYear():e.date1}}],iDisplayLength:25,bPaginate:!0,bLengthChange:!0,bFilter:!1,order:[[6,\"desc\"]],bSort:!0,bInfo:!0,bAutoWidth:!1,bDeferRender:!0,aaData:c.top(1/0),bDestroy:!0});var e=m.mainTable.chart;e.on(\"draw.dt\",function(){var t=$(\"#dc-data-table\").DataTable().page.info();e.DataTable().column(0,{page:\"current\"}).nodes().each(function(e,n){e.innerHTML=n+1+t.start})}),e.DataTable().draw(),$(\"#dc-data-table tbody\").on(\"click\",\"tr\",function(){var t=e.DataTable().row(this).data();f.selectedElement=t,$(\"#detailsModal\").modal()})}();s=performance.now()-o;console.log(\"table timze: \"+s+\" milliseconds\"),$(\".dataTables_wrapper\").append($(\".dataTables_length\")),f.showAllCharts=!1,f.loader=!1;var Y=l.groupAll(),G=dc.dataCount(\".dc-data-count\").dimension(l).group(Y);if(G.render(),G.on(\"renderlet.resetall\",function(e){dc.events.trigger(function(){var e=c.top(1/0);m.mainTable.chart.fnClearTable(),m.mainTable.chart.fnAddData(e),m.mainTable.chart.fnDraw()})}),window.onresize=function(e){v()},k(\"meeting\")){var H=k(\"meeting\"),K=_.find(e,function(e){return e.RecordId==H});K&&(f.selectedElement=K,$(\"#detailsModal\").modal())}})}).catch(function(e){console.error(\"There was a problem with the fetch operation:\",e)}),window.addEventListener(\"resize\",S),window.addEventListener(\"DOMContentLoaded\",S);"},"sourceMaps":null,"error":null,"hash":"97144cbee30e5b577831cdb167677cdf","cacheData":{"env":{}}}